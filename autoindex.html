<!-- autoindex for nginx, see https://phuslu.github.io/ -->
<script type="text/javascript">
!function(){
  if (!document.head) {
    return;
  }

  var webkit = /WebKit/.test(navigator.userAgent);
  var bodylines = document.body.innerHTML.split('\n');
  document.body.innerHTML = '';

  meta = document.createElement('meta');
  meta.setAttribute('charset', 'utf-8');
  document.head.appendChild(meta);
  meta = document.createElement('meta');
  meta.setAttribute('name', 'viewport');
  meta.setAttribute('content', 'width=device-width,initial-scale=1');
  document.head.appendChild(meta);

  div = document.createElement('div');
  div.setAttribute('class', 'container');
  table1 = document.createElement('table');
  table1.setAttribute('class', 'table table-striped table-bordered table-hover table-condensed');
  tbody1 = document.createElement('tbody');
  tr = document.createElement('tr');
  th = document.createElement('th');
  th.setAttribute('colspan', '3');
  th.innerText = document.getElementsByTagName('title')[0].innerText;
  tr.appendChild(th);
  tbody1.appendChild(tr);
  table1.appendChild(tbody1);
  div.appendChild(table1);
  table2 = document.createElement('table');
  table2.setAttribute('class', 'table table-striped table-bordered table-hover table-condensed');
  tbody2 = document.createElement('tbody');
  table2.appendChild(tbody2);
  div.appendChild(table2);
  document.body.appendChild(div)

  var insert = function(filename, displayname, cssclass, datetime, size) {
    if (!webkit) cssclass += '-png';
    tr = document.createElement('tr');
    tr.setAttribute('class', 'table table-striped table-bordered table-hover table-condensed');
    td = document.createElement('td');
    a = document.createElement('a');
    a.setAttribute('href', filename);
    a.setAttribute('class', cssclass);
    a.innerText = displayname;
    td.appendChild(a);
    tr.appendChild(td);
    td = document.createElement('td');
    td.innerText = datetime;
    tr.appendChild(td);
    td = document.createElement('td');
    td.innerText = size;
    tr.appendChild(td);
    tbody2.appendChild(tr);
  };

  var readme = '';

  insert('..', '..', 'octicon reply', '', '-');
  for (var i in bodylines) {
    m = /\s*<a href="(.+?)">(.+?)<\/a>\s+(\S+)\s+(\S+)\s+(\S+)\s*/.exec(bodylines[i]);
    if (!m) {
      continue
    }
    filename = m[1];
    displayname = m[2];
    cssclass = 'octicon file';
    datetime = m[3] + ' ' + m[4];
    size = m[5];

    if (filename.toLowerCase() == 'readme.md') readme = filename;
    if (/\/$/.test(displayname)) cssclass = 'octicon file-directory';
    if (/\.(zip|7z|bz2|gz|tar|tgz|tbz2|cab)$/.test(displayname)) cssclass = 'octicon file-zip';
    if (/\.(jpg|png|bmp|gif|ico|webp|flv|mp4|mkv|avi|mkv)$/.test(displayname)) cssclass = 'octicon file-media';

    insert(filename, displayname.replace(/\/$/, ''), cssclass, datetime, size);
  }

  if (readme != '') {
    script = document.createElement('script');
    script.setAttribute('src', 'https://cdn.bootcss.com/marked/0.3.6/marked.min.js');
    div.appendChild(script);

    link = document.createElement('link');
    link.setAttribute('href', 'https://cdn.bootcss.com/github-markdown-css/2.6.0/github-markdown.min.css');
    link.setAttribute('rel', 'stylesheet');
    div.appendChild(link);

    table3 = document.createElement('table');
    table3.setAttribute('class', 'table table-striped table-bordered table-condensed');
    tbody3 = document.createElement('tbody');
    tr = document.createElement('tr');
    th = document.createElement('th');
    th.setAttribute('colspan', '3');
    th.innerText = readme;
    tr.appendChild(th);
    tbody3.appendChild(tr)
    tr = document.createElement('tr');
    td = document.createElement('td');
    td.setAttribute('colspan', '3');
    tdiv = document.createElement('div');
    tdiv.setAttribute('id', 'readme');
    tdiv.setAttribute('class', 'markdown-body');
    td.appendChild(tdiv);
    tr.appendChild(td);
    tbody3.appendChild(tr)
    table3.appendChild(tbody3);
    div.appendChild(table3);

    var  request = new XMLHttpRequest();
    request.open('GET', location.pathname+readme, true);
    request.onload = function() {
      if (request.status >= 200 && request.status < 400) {
        whenAvailable = function (name, callback) {
            var interval = 10; // ms
            window.setTimeout(function() {
                if (window[name]) {
                    callback(window[name]);
                } else {
                    window.setTimeout(arguments.callee, interval);
                }
            }, interval);
        };
        whenAvailable('marked', function() {
          document.getElementById("readme").innerHTML = marked(request.responseText);
        });
      }
    };
    request.send();
  }
}()
</script>

<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<style>
<!--
.table-condensed>thead>tr>th,
.table-condensed>tbody>tr>th,
.table-condensed>tfoot>tr>th,
.table-condensed>thead>tr>td,
.table-condensed>tbody>tr>td,
.table-condensed>tfoot>tr>td {
    font-size: 14px;
    padding: 3px;
}
.markdown-body {
  float: left;
  font-family: "ubuntu", "Tahoma", "Microsoft YaHei", arial,sans-serif;
}
body {
  font-family: Tahoma, "Microsoft Yahei", Arial, Serif;
}
-->
</style>

<style>
.octicon {background-position: center left; background-repeat: no-repeat; padding-left: 16px;}
.file {background-image: linear-gradient(transparent,transparent),url("data:image/svg+xml;utf8,<svg width='12px' height='16px' viewBox='0 0 12 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><path d='M6,5 L2,5 L2,4 L6,4 L6,5 L6,5 Z M2,8 L9,8 L9,7 L2,7 L2,8 L2,8 Z M2,10 L9,10 L9,9 L2,9 L2,10 L2,10 Z M2,12 L9,12 L9,11 L2,11 L2,12 L2,12 Z M12,4.5 L12,14 C12,14.55 11.55,15 11,15 L1,15 C0.45,15 0,14.55 0,14 L0,2 C0,1.45 0.45,1 1,1 L8.5,1 L12,4.5 L12,4.5 Z M11,5 L8,2 L1,2 L1,14 L11,14 L11,5 L11,5 Z' fill='#7D94AE' /></svg>");}
.file-png {background-image: linear-gradient(transparent,transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACNSURBVCiRY2AgETDWTVl79D8DoxUeNQ+YmRkdGzIDHzAwMDAw1E5Z9x+fiTVT1pXXTln/sGHaWiUGBgYGJkJOaMkJ6vzP8H/a339M+xumrVVigUmg29ScE8SIrKlu8lrOv/8Y9xJ0EjKonbLuP0EnoQOcTsLlPBZsgsPdBtKDlZGB4QjRkcfIcJhUCxgAOdY9dd4xNwMAAAAASUVORK5CYII=");}
.file-directory {background-image: linear-gradient(transparent,transparent),url("data:image/svg+xml;utf8,<svg width='14px' height='16px' viewBox='0 0 14 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><path d='M13,4 L7,4 L7,3 C7,2.34 6.69,2 6,2 L1,2 C0.45,2 0,2.45 0,3 L0,13 C0,13.55 0.45,14 1,14 L13,14 C13.55,14 14,13.55 14,13 L14,5 C14,4.45 13.55,4 13,4 L13,4 Z M6,4 L1,4 L1,3 L6,3 L6,4 L6,4 Z' fill='#7D94AE' /></svg>");}
.file-directory-png {background-image: linear-gradient(transparent,transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABUSURBVCiRY2CgN2Csm7L26H8GRisschebc4IMcOqsnbLuPynicBsJKcCqiYHhCBOpmhgYGBj+MzDYkKWRgYGBYVQjTTQyMjAcIVkXI8Nhci0kHwAA5HIR2L9gm4EAAAAASUVORK5CYII=");}
.file-media {background-image: linear-gradient(transparent,transparent),url("data:image/svg+xml;utf8,<svg width='12px' height='16px' viewBox='0 0 12 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><path d='M6,5 L8,5 L8,7 L6,7 L6,5 L6,5 Z M12,4.5 L12,14 C12,14.55 11.55,15 11,15 L1,15 C0.45,15 0,14.55 0,14 L0,2 C0,1.45 0.45,1 1,1 L8.5,1 L12,4.5 L12,4.5 Z M11,5 L8,2 L1,2 L1,13 L4,8 L6,12 L8,10 L11,13 L11,5 L11,5 Z' fill='#7D94AE' /></svg>");}
.file-media-png {background-image: linear-gradient(transparent,transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD9SURBVCiRlY8xTsNAFETft4MEBXdA5hZUpoeC5BRISUGVJnaWQAENAnlxS4/kDRdABAFHoA/cw/tpcDAStsOUf+ftzMA/Jakt3hTZa/Esw1D2zfHREoDEOm37cWLdOLHzD5MXEUDQVeF82L9UNC998GTyIuoEKkjU35VeHhuBxDqt152NBgbYWSuhrl7Tw9mwL3/dfyWktw+Hk2wer5VwcnW/peqvRfgEFk3AKmF7IxwDERBXKWlWmNS6izogiXUaBrpbenkHNr/vC1F9VpEpgKiezkYDk1inPYDSy03NDBCryGqLikzTrEBrlQ7ahlYQQCDw2mX+GcDL2t5KXxzhWiFCGIQ+AAAAAElFTkSuQmCC");}
.file-zip {background-image: linear-gradient(transparent,transparent),url("data:image/svg+xml;utf8,<svg width='12px' height='16px' viewBox='0 0 12 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><path d='M8.5,1 L1,1 C0.44771525,1 0,1.44771525 0,2 L0,14 C0,14.5522847 0.44771525,15 1,15 L11,15 C11.5522847,15 12,14.5522847 12,14 L12,4.5 L8.5,1 Z M11,14 L1,14 L1,2 L4,2 L4,3 L5,3 L5,2 L8,2 L11,5 L11,14 L11,14 Z M5,4 L5,3 L6,3 L6,4 L5,4 L5,4 Z M4,4 L5,4 L5,5 L4,5 L4,4 L4,4 Z M5,6 L5,5 L6,5 L6,6 L5,6 L5,6 Z M4,6 L5,6 L5,7 L4,7 L4,6 L4,6 Z M5,8 L5,7 L6,7 L6,8 L5,8 L5,8 Z M4,9.28 C3.38491093,9.63510459 3.00428692,10.2897779 3,11 L3,12 L7,12 L7,11 C7,9.8954305 6.1045695,9 5,9 L5,8 L4,8 L4,9.28 L4,9.28 Z M6,10 L6,11 L4,11 L4,10 L6,10 L6,10 Z' fill='#7D94AE' /></svg>");}
.file-zip-png {background-image: linear-gradient(transparent,transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAC+SURBVCiRlY89DoJAEIXfAOew4Bh2xsrSvYUJvY1LSKChdkNh4wlYTmAs1HugngPGRsyGJbvyuvn55r0BZopSVT8YtHTstGFIq2y3bQEAUmk2p+P6oPRequaZVXUMAMH4XJ4IMqEiESWDq64PrllVxxYgleY8EWT2ikSUxP256+liRZiKZfb/cjDl/cELzHJIVbP+Qu/02GymgMgsGHwarkulXwAWTgBA7MpvAa7sg6ynfYoIuPti/ES4zTXAB3AoVWP0TIX+AAAAAElFTkSuQmCC");}
.reply {background-image: linear-gradient(transparent,transparent),url("data:image/svg+xml;utf8,<svg width='14px' height='16px' viewBox='0 0 14 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><path d='M6,3.5 C9.92,3.94 14,6.625 14,13.5 C11.688,8.438 9.25,7.5 6,7.5 L6,11 L0.5,5.5 L6,0 L6,3.5 Z' fill='#7D94AE' /></svg>");}
.reply-png {background-image: linear-gradient(transparent,transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEESURBVCiRpZK9TgJBFEbP3R/p7NTO2PoOFliQ2ILBR9AoEl9ggyMQExsTsrHYShsbo9LYUWhvaGiofAMaKVnca6FsUHbDoqeYYu6cfPfODCRQ8x9M0v40VpKkIqcLiVklAEmVlENseW0cFbup4pykN+DcHvRujDFRLHp+Oy+izxm664zccfniYO8dwGpWiy+iepZBLORC52k/CFz4vpx6ddckyJcKt0AXUL6WrbVwxYtnnDA9a+O4FNe8q8dNUVpAARiG1tLGj+dISaZZKfXtQW9HIACW3Sgsz3yANNkYE/VXxxWgA7otvw/Mw7Tu1j9s535RDwDPb5/MtJoFR3PXf0r8F5+sJmCpa+RdZAAAAABJRU5ErkJggg==");}
</style>

